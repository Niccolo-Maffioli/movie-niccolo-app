(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const e of i)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const e={};return i.integrity&&(e.integrity=i.integrity),i.referrerPolicy&&(e.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?e.credentials="include":i.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(i){if(i.ep)return;i.ep=!0;const e=t(i);fetch(i.href,e)}})();const E=()=>{document.addEventListener("scroll",()=>{const u=document.getElementById("header");u&&(window.scrollY>50?u.classList.add("headerscroll"):u.classList.remove("headerscroll"))})};var w=function(u,c,t,n){function i(e){return e instanceof t?e:new t(function(o){o(e)})}return new(t||(t=Promise))(function(e,o){function r(s){try{a(n.next(s))}catch(d){o(d)}}function l(s){try{a(n.throw(s))}catch(d){o(d)}}function a(s){s.done?e(s.value):i(s.value).then(r,l)}a((n=n.apply(u,c||[])).next())})};const m=(u,c,...t)=>w(void 0,[u,c,...t],void 0,function*(n,i,e=1,o=""){try{if(typeof n!="string")throw new Error("Il parametro 'type' deve essere una stringa.");let r;if(typeof i=="number"||!isNaN(Number(i)))r=`https://api.themoviedb.org/3/${n}/${i}`;else{if(typeof i!="string")throw new Error("Il parametro 'category' deve essere una stringa.");if(isNaN(e))throw new Error("La pagina deve essere un numero valido.");r=`https://api.themoviedb.org/3/${n}/${i}?page=${e}${o}`}return yield(yield fetch(r,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3MGRkZjNlMjc0YmE3MzdiYjA0YzIwNmJhYmVjNWZlYSIsIm5iZiI6MTY1NTU2Nzg2NC4wNDMsInN1YiI6IjYyYWRmNWY4OTBlYTRiMDA1NDNlZDVmYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.ZnxQ4OCckJJgFaHl065UbxyUk1_R4FJH82V8T3NiCYw"}})).json()}catch(r){throw console.error("Errore nella fetch:",r.message),r}});var L=function(u,c,t,n){function i(e){return e instanceof t?e:new t(function(o){o(e)})}return new(t||(t=Promise))(function(e,o){function r(s){try{a(n.next(s))}catch(d){o(d)}}function l(s){try{a(n.throw(s))}catch(d){o(d)}}function a(s){s.done?e(s.value):i(s.value).then(r,l)}a((n=n.apply(u,c||[])).next())})};const C=()=>L(void 0,void 0,void 0,function*(){const u=yield m("movie","popular",1),c=document.getElementById("sliderContainer");if(!c){console.error("Elemento 'sliderContainer' non trovato.");return}u.results.forEach(t=>{const n=document.createElement("a"),i=document.createElement("h1"),e=document.createElement("p"),o=document.createElement("p"),r=document.createElement("div"),l=document.createElement("img"),a=document.createElement("div"),s=document.createElement("p");c.appendChild(n),n.classList.add("card"),n.href="single.html",n.addEventListener("click",()=>{const p={id:t.id,fullOverview:t.overview,type:"movie"};localStorage.setItem("singleItem",JSON.stringify(p))}),n.setAttribute("data-id",t.id.toString()),n.setAttribute("data-full-overview",t.overview),n.appendChild(r),r.classList.add("details"),r.appendChild(i),i.classList.add("film_title"),i.innerText=t.original_title,r.appendChild(o),o.classList.add("film_description");const d=t.overview;let h=d;d.length>150&&(h=d.slice(0,d.lastIndexOf(" ",150))+"..."),o.innerText=h,r.appendChild(e),e.classList.add("film_year"),e.innerText=t.release_date.split("-")[0],n.appendChild(l),l.classList.add("movie-img"),l.src=`https://image.tmdb.org/t/p/original${t.poster_path}`,r.appendChild(a),a.classList.add("rating-container"),a.appendChild(s),s.classList.add("rating");const v=Math.trunc(t.vote_average/2);s.innerText=v.toString();const f=document.createElement("div");a.appendChild(f);for(let p=0;p<5;p++){const g=document.createElement("i");g.classList.add("fa-solid","fa-star","star"),p<v&&(g.style.color="#F7B13E"),f.appendChild(g)}})}),_=()=>{document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".sliderContainer").forEach(c=>{const t=c.parentElement;if(t){const n=t.querySelector(".arrow-left"),i=t.querySelector(".arrow-right");console.log("scrollLeft: ",c.scrollLeft),console.log("clientWidth",c.clientWidth),console.log("scrollWidth",c.scrollWidth);const e=c.clientWidth*1,o=()=>{c.scrollLeft<=0&&n?(n.style.opacity="0.5",n.style.pointerEvents="none"):n&&(n.style.opacity="1",n.style.pointerEvents="auto"),c.scrollWidth>=c.clientWidth?c.scrollLeft>=1500&&i?(i.style.opacity="0.5",i.style.pointerEvents="none"):i&&(i.style.opacity="1",i.style.pointerEvents="auto"):i&&(i.style.opacity="0.5",i.style.pointerEvents="none")};i&&i.addEventListener("click",()=>{c.scrollBy({left:e,behavior:"smooth"}),setTimeout(o,500),console.log("scrollLeft: ",c.scrollLeft),console.log("clientWidth",c.clientWidth),console.log("scrollWidth",c.scrollWidth)}),n&&n.addEventListener("click",()=>{c.scrollBy({left:-e,behavior:"smooth"}),setTimeout(o,500),console.log("scrollLeft: ",c.scrollLeft),console.log("clientWidth",c.clientWidth),console.log("scrollWidth",c.scrollWidth)}),o()}})})};var I=function(u,c,t,n){function i(e){return e instanceof t?e:new t(function(o){o(e)})}return new(t||(t=Promise))(function(e,o){function r(s){try{a(n.next(s))}catch(d){o(d)}}function l(s){try{a(n.throw(s))}catch(d){o(d)}}function a(s){s.done?e(s.value):i(s.value).then(r,l)}a((n=n.apply(u,c||[])).next())})};const b=()=>I(void 0,void 0,void 0,function*(){const u=yield m("tv","popular",1),c=document.getElementById("tvslider");if(!c){console.error("Contenitore 'tvslider' non trovato.");return}u.results.map(t=>{const n=document.createElement("a"),i=document.createElement("h1"),e=document.createElement("p"),o=document.createElement("p"),r=document.createElement("div"),l=document.createElement("img"),a=document.createElement("div"),s=document.createElement("p");c.appendChild(n),n.classList.add("card"),n.href="single.html",n.addEventListener("click",()=>{const f={id:t.id,fullOverview:t.overview,type:"tv"};localStorage.setItem("singleItem",JSON.stringify(f))}),n.setAttribute("data-id",t.id.toString()),n.setAttribute("data-full-overview",t.overview),n.appendChild(r),r.classList.add("details"),r.appendChild(i),i.classList.add("film_title"),i.innerText=t.name,r.appendChild(o),o.classList.add("film_description");let d=t.overview;t.overview.length>150&&(d=t.overview.slice(0,t.overview.lastIndexOf(" ",150))+"..."),o.innerText=d,r.appendChild(e),e.classList.add("film_year"),t.first_air_date?e.innerText=t.first_air_date.split("-")[0]:e.innerText="N/A",n.appendChild(l),l.classList.add("movie-img"),l.src=`https://image.tmdb.org/t/p/original${t.poster_path}`,r.appendChild(a),a.classList.add("rating-container"),a.appendChild(s),s.classList.add("rating");const h=Math.trunc(t.vote_average/2);s.innerText=h.toString();const v=document.createElement("div");a.appendChild(v);for(let f=0;f<5;f++){const p=document.createElement("i");p.classList.add("fa-solid","fa-star","star"),f<h&&(p.style.color="#F7B13E"),v.appendChild(p)}})});var y=function(u,c,t,n){function i(e){return e instanceof t?e:new t(function(o){o(e)})}return new(t||(t=Promise))(function(e,o){function r(s){try{a(n.next(s))}catch(d){o(d)}}function l(s){try{a(n.throw(s))}catch(d){o(d)}}function a(s){s.done?e(s.value):i(s.value).then(r,l)}a((n=n.apply(u,c||[])).next())})};const N=()=>y(void 0,void 0,void 0,function*(){const u=document.getElementById("search-input"),c=document.getElementById("search-container"),t=yield m("movie","popular",1),n=yield m("tv","popular",1);[...t.results,...n.results].forEach(e=>{if(!e.poster_path)return;const o=e.title?"movie":"tv",r=document.createElement("a"),l=document.createElement("img");r.href="single.html",r.classList.add("card"),r.appendChild(l),l.src=`https://image.tmdb.org/t/p/original${e.poster_path}`,r.addEventListener("click",()=>{const a={id:e.id,fullOverview:e.overview,type:o};localStorage.setItem("singleItem",JSON.stringify(a))}),c.appendChild(r)}),u.addEventListener("keyup",()=>y(void 0,void 0,void 0,function*(){const e=u.value.trim();if(!e)return;const o=yield m("search","multi",1,`&query=${e}`);c.innerHTML="",o.results.forEach(r=>{if(!r.poster_path)return;const l=r.title?"movie":"tv",a=document.createElement("a"),s=document.createElement("img");a.href="single.html",a.classList.add("card"),a.appendChild(s),s.src=`https://image.tmdb.org/t/p/original${r.poster_path}`,a.addEventListener("click",()=>{const d={id:r.id,fullOverview:r.overview,type:l};localStorage.setItem("singleItem",JSON.stringify(d))}),c.appendChild(a)})}))});b();C();E();_();N();const x=u=>{const c=document.getElementById("banner"),t=document.getElementById("overviewContainer"),n=document.getElementById("age"),i=u.results[0],e=document.createElement("span"),o=document.createElement("img"),r=document.createElement("h1"),l=document.createElement("p");n.appendChild(e),e.textContent=i.adult?"18+":"Per tutti",c.appendChild(o),o.classList.add("bannerimg"),t.classList.add("title"),t.appendChild(r),r.classList.add("title"),r.textContent=i.title,t.appendChild(l),l.classList.add("filmdesc");let a=i.overview;a.length>250&&(a=a.slice(0,a.lastIndexOf(" ",250))+"..."),l.textContent=a,o.src=`https://image.tmdb.org/t/p/original${i.backdrop_path}`},O=await m("movie","popular",1);x(O);
